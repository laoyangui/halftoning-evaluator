=======================================================================
 Sparse Feature Fidelity (SFF) for Perceptual Image Quality Assessment
=======================================================================


------------------------- COPYRIGHT NOTICE --------------------------
Copyright (c) 2013, Hua-wen Chang
All rights reserved.

Redistribution and use in source and binary forms, with or without 
modification, are permitted provided that the following conditions are 
met:

    * Redistributions of source code must retain the above copyright 
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright 
      notice, this list of conditions and the following disclaimer in 
      the documentation and/or other materials provided with the distribution
      
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" 
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS 
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
POSSIBILITY OF SUCH DAMAGE.

Plase use the citation provided below if it is useful to your research:

Hua-wen Chang, Hua Yang, Yong Gan, and Ming-hui Wang, "Sparse Feature Fidelity
for Perceptual Image Quality Assessment", IEEE Transactions on Image Processing,
vol. 22, no. 10, pp. 4007-4018, October 2013

---------------------------------------------------------------------------

Version: 2.0  (October 5 2013)
Author: Hua-wen Chang (changhuawen@gmail.com)
        [FastICA code by Aapo Hyvarinen]


========================
         Usage
========================
-----------------------------------------------------------
This package contains a Matlab implementation of the Sparse Feature Fidelity (SFF) for image quality assessment.
SFF is a new algorithm for evaluating perceptual quality of color images, which has two stages:
Training and Fidelity computation.

---------------------------------------------------
For quality evaluation, you can just run 'SFF' as follows:

load('W.mat');  % load the feature detector (a matrix of size 8*192 generated by running TrainW(18000,8,8) on data1)
score = SFF(refImg, disImg, W);  % refImg and disImg respectively denote the reference and distorted color images

The quality scores are between 0 and 1, where 1 represents the same quality as the reference image.
---------------------------------------------------


---------------------------------------------------
The training stage generates a feature detector W which can be used for extracting features from image patches.
The Training code is in the folder '\Training'. You can run 'TrainW' to get the feature detector. For example:

W = TrainW(18000,8,8);  % In our paper we used 18000 sample patches of size 8*8, and retained only 8 components. 

Two sets of color images are provided for the training stage, i.e., data1 and data2, which is described in our paper.
We suggest you use data1 for training.
---------------------------------------------------


Moreover, this package provides four examples for testing this algorithm on CSIQ, LIVE, TID2008 and TID2013, respectively.
You can download the four databases from:
CSIQ  http://vision.okstate.edu/?loc=csiq
LIVE  http://live.ece.utexas.edu/research/quality/release2/databaserelease2.zip
TID2008  http://www.ponomarenko.info/tid2008.htm
TID2013  http://www.ponomarenko.info/tid2013.htm


Note that, before execution, you should change the file directories in 'CSIQ.m', 'LIVE.m', 'TID2008' and TID2013.
Then you can get all the quality scores of the database by:
[Score, Metric] = CSIQ;
[Score, Metric] = LIVE;
[Score, Metric] = TID2008;
[Score, Metric] = TID2013;


The subfolder 'Experimental_Results' contains results and figures of SFF on six databases, 
including CSIQ, IVC, LIVE, TID2008, TID2013 and Toyama MICT.



Contact
-------------------------
If you have any problems, questions, suggestions, or modifications, please contact me:
changhuawen@gmail.com


